{% assign video = site.data.assets.video[include.id] %}
{% if include.sizes %}
	{% assign breakpoints = "xs,sm,md,lg,xl"| split: "," %}
	{% for breakpoint in include.sizes %}
	<amp-video
		{% if include.layout == "fixed-height" %}
			{% if include.sizes contains breakpoint[0] %}
			height="{{ breakpoint[1].height }}"
			{% else %}
			height="{{ video.height }}"
			{% endif %}
			layout="fixed-height"
		{% else %}
			{% if include.sizes contains breakpoint[0] %}
			width="{{ breakpoint[1].width }}"
			height="{{ breakpoint[1].height }}"
			{% else %}
			width="{{ video.width }}"
			height="{{ video.height }}"
			{% endif %}
			layout="responsive"
		{% endif %}
		class="{% for hide_breakpoint in include.sizes %}
		{% if hide_breakpoint[0] == "xs" %}d-{% if breakpoint[0] != hide_breakpoint[0] %}none{% else %}block{% endif %}
		{% else %}d-{{ hide_breakpoint[0] }}-{% if breakpoint[0] != hide_breakpoint[0] %}none{% else %}block{% endif %}
		{% endif %}{% endfor %}
		{% if include.class %} {{ include.class }}{% endif %}"
		{% if include.autoplay %}autoplay="{{ include.autoplay }}"{% endif %}
		{% if include.noaudio %}noaudio="{{ include.noaudio }}"{% endif %}
		{% if include.loop %}loop="{{ include.loop }}"{% endif %}
		>
		<source src="{{ video.src }}" type="{{ video.type }}">
	</amp-video>
	{% endfor %}
{% else %}
	<amp-video
		{% if include.layout == "fixed" %}
			width="{{ video.width }}"
			height="{{ video.height }}"
			layout="fixed"
		{% else %}
			width="{{ video.width }}"
			height="{{ video.height }}"
			layout="responsive"
		{% endif %}
		class="{% if include.class %} {{ include.class }}{% endif %}"
		{% if include.autoplay %}autoplay="{{ include.autoplay }}"{% endif %}
		{% if include.noaudio %}noaudio="{{ include.noaudio }}"{% endif %}
		{% if include.loop %}loop="{{ include.loop }}"{% endif %}
		>
		<source src="{{ video.src }}" type="{{ video.type }}">
	</amp-video>
{% endif %}
