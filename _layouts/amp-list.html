---
layout: amp
---
<div class="section bg-body flex-fill d-flex">
	<div class="container flex-fill d-flex flex-column">
		<h1>{{ page.title }}</h1>
		{% if site.categories[page.category].size > 0 %}
		{% include amp/filter.html id="list" %}
		<b class="mb-md-5"></b>
		<amp-state id="data" src="{{ page.json_url }}"></amp-state>
		{% include amp/templates/post.html id="post-template" url=page.post_url %}
		<amp-list
		  id="list"
		  layout="flex-item"
		  template="post-template"
		  src="amp-state:data"
		  [src]="data.items.filter({{ page.filter_js }})">
		  	<div placeholder>
				<div class="h2 my-auto text-center">
					<p class="mb-2 mb-md-5">
						{% include icon.html id=page.icon class="fa-4x color-list-icon" %}
					</p>
					<p class="display-5">
						{{ site.data.labels.waiting }}
					</p>
				</div>
		  	</div>
		  	<div fallback>
		  		<div class="h2 my-auto text-center">
					<p class="mb-2 mb-md-5">
						{% include icon.html id=page.icon class="fa-4x color-list-icon" %}
					</p>
					<p class="display-5">
						{{ site.data.labels.error }}
					</p>
				</div>
			</div>
		</amp-list>
		{% else %}
		<div class="h2 my-auto text-center">
			<p class="mb-2 mb-md-5">
				{% include icon.html id=page.icon class="fa-4x color-list-icon" %}
			</p>
			<p class="display-5">
				{{ page.empty_text }}
			</p>
		</div>
		{% endif %}
	</div>
</div>
