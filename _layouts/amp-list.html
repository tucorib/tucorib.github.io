---
layout: amp
---
<b class="p-4"></b>
<div class="section bg-body flex-fill d-flex">
	<div class="container flex-fill d-flex flex-column">
		<h1>{{ page.title }}</h1>
		{% if site.categories[page.category].size > 0 %}
		{% include amp/filter.html id="list" %}
		<b class="mb-md-5"></b>
		<amp-state id="data" src="{{ page.json_url }}"></amp-state>
		{% include amp/templates/post.html id="post-template" url=page.post_url %}
		<amp-list
		  id="list"
		  layout="flex-item"
		  template="post-template"
		  src="amp-state:data"
		  [src]="data.items.filter({{ page.filter_js }})">
		  	<div class="d-flex flex-column justify-content-around align-items-center text-center bg-body" placeholder>
				<p class="h2">
					{% include icon.html id=page.icon class="fa-4x" %}
				</p>
				<p class="display-5">
					{{ site.data.labels.waiting }}
				</p>
		  	</div>
		  	<div class="d-flex flex-column justify-content-around align-items-center text-center bg-body" fallback>
				<p class="h2">
					{% include icon.html id=page.icon class="fa-4x" %}
				</p>
				<p class="display-5">
					{{ site.data.labels.error }}
				</p>
			</div>
		</amp-list>
		{% else %}
		<div class="d-flex flex-column justify-content-around align-items-center text-center bg-body">
			<p class="h2">
				{% include icon.html id=page.icon class="fa-4x" %}
			</p>
			<p class="display-5">
				{{ page.empty_text }}
			</p>
		</div>
		{% endif %}
	</div>
</div>
