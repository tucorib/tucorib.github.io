.box {
	position: relative;
	width: 50%;		/* desired width */
	max-width: 100px;
}
.box:before {
	content: "";
	float: left;
	padding-top: 100%; 	/* initial ratio of 1:1*/
}
.minibox {
	position: relative;
	width: 20px;
	height: 20px;
	vertical-align: middle;
}